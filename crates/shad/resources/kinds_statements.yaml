max_u32: &max_u32 4294967295

kinds:
  stmts:
    min_repeat: 0
    max_repeat: *max_u32
    choice:
      - local_var_def_stmt
      - assignment_stmt

  local_var_def_stmt:
    sequence: [ var_kw, ident, eq_kw, expr, semicolon_kw ]
    sequence_error_after: var_kw
    index_key:
      child: ident
    transpilation: var _{{self_id}} = {{child:expr}};

  assignment_stmt:
    sequence: [ var_ident_expr, eq_kw, expr, semicolon_kw ]
    sequence_error_after: eq_kw
    validation:
      - name: check_expr_type
        params: { expr: expr, expected: var_ident_expr }
    transpilation: '{{child:var_ident_expr}} = {{child:expr}};'
