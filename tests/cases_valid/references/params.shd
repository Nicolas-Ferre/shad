buf assigned_value = 3;
buf result = 0;
buf incremented_result = 0;
buf inlined_result = 0;

run {
    // repeat same inline function multiple times to ensure deduplicated var names
    assign_return(result, assigned_value); // not assigned returned value
    incremented_result = result.assign_return(assign_return(result, assigned_value));

    // pass non-reference as reference (creates a new variable behind the hood)
    assign_no_return(0, 2);
    assign_no_return(-1, 2);
    to_i32(!true);
    assign_no_return(0 + 1, 2);
    assign_no_return(0.assign_return(1), 2);
    assign_no_return(i32(true), 2);
}

fn assign_return(output: ref i32, input: i32) -> i32 {
    var local_var = input;
    output.assign_no_return(local_var);
    inlined_result = 42;
    return output + 1;
}

fn assign_no_return(output: ref i32, input: i32) {
    output = input;
}

fn to_i32(value: ref bool) -> i32 {
    return i32(value);
}
