buf result = 2;

run {
    add(result, 10) = add(add(result, 5), 5);
}

fn add(ref value: i32, added: i32) -> ref i32 {
    value = value + added;
    return ident(value);
}

fn ident(ref value: i32) -> ref i32 {
    return value;
}

gpu fn __add__(left: i32, right: i32) -> i32;
gpu fn __sub__(left: i32, right: i32) -> i32;
